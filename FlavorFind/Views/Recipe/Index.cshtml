@model FlavorFind.BusLogic.Model.RecipeRequest

@section Scripts {
    <script>
        document.getElementById("recipeForm").addEventListener("submit", function () {
            document.getElementById("loadingOverlay").style.display = "flex";
        });
    </script>
}

<div id="loadingOverlay" style="display:none; position:fixed; top:0; left:0; right:0; bottom:0; background-color:#111; z-index:9999; justify-content:center; align-items:center; flex-direction:column; color:white;">
    <div class="spinner-border text-warning" role="status" style="width: 4rem; height: 4rem;"></div>
    <p class="mt-3 fs-5">Generating your recipe...</p>
</div>

<div class="container d-flex flex-column align-items-center mt-5" style="max-width: 500px;">
    <div class="text-center mb-4">
        <img src="~/images/flavorbot-logo.png" alt="FlavorBot" style="width: 150px;" />
        <h2 class="text-white mt-2">Flavor<span class="text-danger">Bot</span></h2>
    </div>

    @using (Html.BeginForm(null, null, FormMethod.Post, new { @class = "w-100 bg-dark p-4 rounded", novalidate = "novalidate", id = "recipeForm" }))
    {
        <div class="mb-3">
            <label for="Budget" class="form-label text-light">Budget</label>
            @Html.TextBoxFor(m => m.Budget, new { @class = "form-control bg-dark text-white border-secondary", @placeholder = "e.g. 500", @id = "Budget" })
        </div>

        <div class="mb-3">
            <label for="Ingredients" class="form-label text-light">Ingredients</label>
            @Html.TextAreaFor(m => m.Ingredients, new { @class = "form-control bg-dark text-white border-secondary", @placeholder = "e.g. chicken, garlic, soy sauce", @rows = 3, @id = "Ingredients" })
        </div>

        <div class="mb-3">
            <label for="Preferences" class="form-label text-light">Preferences</label>
            @Html.TextBoxFor(m => m.Preferences, new { @class = "form-control bg-dark text-white border-secondary", @placeholder = "e.g. spicy, no dairy", @id = "Preferences" })
        </div>

        <div class="mb-3">
            <label for="DishType" class="form-label text-light">Dish Type</label>
            @Html.DropDownListFor(m => m.DishType,
                     new SelectList(new List<string> { "Filipino", "Italian", "Chinese", "Mexican" }),
                     new { @class = "form-select bg-dark text-white border-secondary", @id = "DishType" })
        </div>

        <div class="mb-4">
            <label for="MealTime" class="form-label text-light">Meal Time</label>
            @Html.DropDownListFor(m => m.MealTime,
                     new SelectList(new List<string> { "Breakfast", "Lunch", "Dinner", "Snack" }),
                     new { @class = "form-select bg-dark text-white border-secondary", @id = "MealTime" })
        </div>

        <button type="submit" class="btn btn-warning w-100 fw-bold">Generate Recipe</button>
    }
</div>
